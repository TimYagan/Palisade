<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_181) on Tue Aug 20 14:10:01 BST 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Util (palisade 0.3.0 API)</title>
<meta name="date" content="2019-08-20">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Util (palisade 0.3.0 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Util.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
</ul>
<div class="aboutLanguage">Palisade 0.3.0</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../uk/gov/gchq/palisade/UserId.html" title="class in uk.gov.gchq.palisade"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?uk/gov/gchq/palisade/Util.html" target="_top">Frames</a></li>
<li><a href="Util.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">uk.gov.gchq.palisade</div>
<h2 title="Class Util" class="title">Class Util</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>uk.gov.gchq.palisade.Util</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="typeNameLabel">Util</span>
extends java.lang.Object</pre>
<div class="block">Common utility methods.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.time.Duration</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../uk/gov/gchq/palisade/Util.html#MIN_DURATION_PAUSE">MIN_DURATION_PAUSE</a></span></code>
<div class="block">Minimum retry time to wait between attempts.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../uk/gov/gchq/palisade/Util.html#applyRulesToItem-T-uk.gov.gchq.palisade.User-uk.gov.gchq.palisade.Context-uk.gov.gchq.palisade.rule.Rules-java.util.concurrent.atomic.AtomicLong-java.util.concurrent.atomic.AtomicLong-">applyRulesToItem</a></span>(T&nbsp;item,
                <a href="../../../../uk/gov/gchq/palisade/User.html" title="class in uk.gov.gchq.palisade">User</a>&nbsp;user,
                <a href="../../../../uk/gov/gchq/palisade/Context.html" title="class in uk.gov.gchq.palisade">Context</a>&nbsp;context,
                <a href="../../../../uk/gov/gchq/palisade/rule/Rules.html" title="class in uk.gov.gchq.palisade.rule">Rules</a>&lt;T&gt;&nbsp;rules,
                java.util.concurrent.atomic.AtomicLong&nbsp;recordsProcessed,
                java.util.concurrent.atomic.AtomicLong&nbsp;recordsReturned)</code>
<div class="block">Applies a collection of rules to an item (record/resource).</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;java.util.stream.Stream&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../uk/gov/gchq/palisade/Util.html#applyRulesToStream-java.util.stream.Stream-uk.gov.gchq.palisade.User-uk.gov.gchq.palisade.Context-uk.gov.gchq.palisade.rule.Rules-java.util.concurrent.atomic.AtomicLong-java.util.concurrent.atomic.AtomicLong-">applyRulesToStream</a></span>(java.util.stream.Stream&lt;T&gt;&nbsp;records,
                  <a href="../../../../uk/gov/gchq/palisade/User.html" title="class in uk.gov.gchq.palisade">User</a>&nbsp;user,
                  <a href="../../../../uk/gov/gchq/palisade/Context.html" title="class in uk.gov.gchq.palisade">Context</a>&nbsp;context,
                  <a href="../../../../uk/gov/gchq/palisade/rule/Rules.html" title="class in uk.gov.gchq.palisade.rule">Rules</a>&lt;T&gt;&nbsp;rules,
                  java.util.concurrent.atomic.AtomicLong&nbsp;recordsProcessed,
                  java.util.concurrent.atomic.AtomicLong&nbsp;recordsReturned)</code>
<div class="block">Applies a collection of rules to a record stream.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static java.util.concurrent.ThreadFactory</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../uk/gov/gchq/palisade/Util.html#createDaemonThreadFactory--">createDaemonThreadFactory</a></span>()</code>
<div class="block">Create a <code>ThreadFactory</code> that creates daemon threads that don't prevent JVM exit.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../uk/gov/gchq/palisade/Util.html#locateJarFile-java.lang.String-">locateJarFile</a></span>(java.lang.String&nbsp;clazz)</code>
<div class="block">Debug utility for finding which JAR file (if any) a class was loaded from.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static &lt;V&gt;&nbsp;V</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../uk/gov/gchq/palisade/Util.html#logConnectionFailed-java.util.concurrent.Callable-java.net.URL-">logConnectionFailed</a></span>(java.util.concurrent.Callable&lt;V&gt;&nbsp;func,
                   java.net.URL&nbsp;address)</code>
<div class="block">Captures an exception thrown while running the given function and writes the cause to the log.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static &lt;R&gt;&nbsp;R</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../uk/gov/gchq/palisade/Util.html#retryThunker-java.util.concurrent.Callable-int-java.time.Duration-">retryThunker</a></span>(java.util.concurrent.Callable&lt;R&gt;&nbsp;function,
            int&nbsp;retryCount,
            java.time.Duration&nbsp;pause)</code>
<div class="block">Carries out the given operation a set number of times in case of failure.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="MIN_DURATION_PAUSE">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MIN_DURATION_PAUSE</h4>
<pre>public static final&nbsp;java.time.Duration MIN_DURATION_PAUSE</pre>
<div class="block">Minimum retry time to wait between attempts.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="applyRulesToStream-java.util.stream.Stream-uk.gov.gchq.palisade.User-uk.gov.gchq.palisade.Context-uk.gov.gchq.palisade.rule.Rules-java.util.concurrent.atomic.AtomicLong-java.util.concurrent.atomic.AtomicLong-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>applyRulesToStream</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;java.util.stream.Stream&lt;T&gt;&nbsp;applyRulesToStream(java.util.stream.Stream&lt;T&gt;&nbsp;records,
                                                                <a href="../../../../uk/gov/gchq/palisade/User.html" title="class in uk.gov.gchq.palisade">User</a>&nbsp;user,
                                                                <a href="../../../../uk/gov/gchq/palisade/Context.html" title="class in uk.gov.gchq.palisade">Context</a>&nbsp;context,
                                                                <a href="../../../../uk/gov/gchq/palisade/rule/Rules.html" title="class in uk.gov.gchq.palisade.rule">Rules</a>&lt;T&gt;&nbsp;rules,
                                                                java.util.concurrent.atomic.AtomicLong&nbsp;recordsProcessed,
                                                                java.util.concurrent.atomic.AtomicLong&nbsp;recordsReturned)</pre>
<div class="block">Applies a collection of rules to a record stream.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - record type</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>records</code> - record stream</dd>
<dd><code>user</code> - user the records are being processed for</dd>
<dd><code>context</code> - the additional context</dd>
<dd><code>rules</code> - rules collection</dd>
<dd><code>recordsProcessed</code> - a counter for the number of records being processed</dd>
<dd><code>recordsReturned</code> - a counter for the number of records being returned</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>filtered stream</dd>
</dl>
</li>
</ul>
<a name="applyRulesToItem-java.lang.Object-uk.gov.gchq.palisade.User-uk.gov.gchq.palisade.Context-uk.gov.gchq.palisade.rule.Rules-java.util.concurrent.atomic.AtomicLong-java.util.concurrent.atomic.AtomicLong-">
<!--   -->
</a><a name="applyRulesToItem-T-uk.gov.gchq.palisade.User-uk.gov.gchq.palisade.Context-uk.gov.gchq.palisade.rule.Rules-java.util.concurrent.atomic.AtomicLong-java.util.concurrent.atomic.AtomicLong-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>applyRulesToItem</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;T&nbsp;applyRulesToItem(T&nbsp;item,
                                     <a href="../../../../uk/gov/gchq/palisade/User.html" title="class in uk.gov.gchq.palisade">User</a>&nbsp;user,
                                     <a href="../../../../uk/gov/gchq/palisade/Context.html" title="class in uk.gov.gchq.palisade">Context</a>&nbsp;context,
                                     <a href="../../../../uk/gov/gchq/palisade/rule/Rules.html" title="class in uk.gov.gchq.palisade.rule">Rules</a>&lt;T&gt;&nbsp;rules,
                                     java.util.concurrent.atomic.AtomicLong&nbsp;recordsProcessed,
                                     java.util.concurrent.atomic.AtomicLong&nbsp;recordsReturned)</pre>
<div class="block">Applies a collection of rules to an item (record/resource).</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - record type</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>item</code> - resource or record to filter</dd>
<dd><code>user</code> - user the record is being processed for</dd>
<dd><code>context</code> - the additional context</dd>
<dd><code>rules</code> - rules collection</dd>
<dd><code>recordsProcessed</code> - a counter for the number of records being processed</dd>
<dd><code>recordsReturned</code> - a counter for the number of records being returned</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>filtered item</dd>
</dl>
</li>
</ul>
<a name="createDaemonThreadFactory--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createDaemonThreadFactory</h4>
<pre>public static&nbsp;java.util.concurrent.ThreadFactory&nbsp;createDaemonThreadFactory()</pre>
<div class="block">Create a <code>ThreadFactory</code> that creates daemon threads that don't prevent JVM exit.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a daemon thread factory</dd>
</dl>
</li>
</ul>
<a name="retryThunker-java.util.concurrent.Callable-int-java.time.Duration-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>retryThunker</h4>
<pre>public static&nbsp;&lt;R&gt;&nbsp;R&nbsp;retryThunker(java.util.concurrent.Callable&lt;R&gt;&nbsp;function,
                                 int&nbsp;retryCount,
                                 java.time.Duration&nbsp;pause)</pre>
<div class="block">Carries out the given operation a set number of times in case of failure. The given function will be called and the
 result returned if successful. If the function throws an exception, then the function is tried again after a pause.
 If <code>retryCount</code> attempts fail, then a <code>RuntimeException</code> is thrown with the most recent cause.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>R</code> - the return type</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>function</code> - the function to run</dd>
<dd><code>retryCount</code> - the maximum number of attempts</dd>
<dd><code>pause</code> - the pause time between failure</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>object of type <code>R</code> from <code>function</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if <code>retryCount</code> less than 1 or <code>pause</code> is negative or less than the
                                  minimum required time</dd>
<dd><code>java.lang.RuntimeException</code> - if all attempts to execute <code>function</code> fail</dd>
</dl>
</li>
</ul>
<a name="logConnectionFailed-java.util.concurrent.Callable-java.net.URL-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logConnectionFailed</h4>
<pre>public static&nbsp;&lt;V&gt;&nbsp;V&nbsp;logConnectionFailed(java.util.concurrent.Callable&lt;V&gt;&nbsp;func,
                                        java.net.URL&nbsp;address)
                                 throws java.lang.Exception</pre>
<div class="block">Captures an exception thrown while running the given function and writes the cause to the log. This is especially
 useful during connection refused errors as they do not give the host information in their stack trace.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>V</code> - the return type of the function</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>func</code> - the function to protect</dd>
<dd><code>address</code> - the address being contacted</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>dependent on <code>func</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - any exception thrown by <code>func</code></dd>
</dl>
</li>
</ul>
<a name="locateJarFile-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>locateJarFile</h4>
<pre>public static&nbsp;java.lang.String&nbsp;locateJarFile(java.lang.String&nbsp;clazz)</pre>
<div class="block">Debug utility for finding which JAR file (if any) a class was loaded from. This is useful in debugging classpath
 conflicts.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>clazz</code> - the fully qualified class name to search for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>where the class was loaded from, or <code>null</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Util.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
</ul>
<div class="aboutLanguage">Palisade 0.3.0</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../uk/gov/gchq/palisade/UserId.html" title="class in uk.gov.gchq.palisade"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?uk/gov/gchq/palisade/Util.html" target="_top">Frames</a></li>
<li><a href="Util.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2019. All rights reserved.</small></p>
</body>
</html>
